

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cores &mdash; Recoiljs Library 5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Selectors" href="../Tutorial/selector.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Recoiljs Library
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/gettingStarted.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/intro.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/atoms.html">Atoms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/selector.html">Selectors</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Cores</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Recoiljs Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Cores</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/APIReference/core.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cores">
<h1>Cores<a class="headerlink" href="#cores" title="Permalink to this headline">¶</a></h1>
<div class="section" id="recoilroot">
<h2><RecoilRoot /><a class="headerlink" href="#recoilroot" title="Permalink to this headline">¶</a></h2>
<p>atom을 사용할 수 있는 컨텍스트를 제공합니다. recoil state를 사용하기 위해 RecoilRoot을 반드시 상위 컴포넌트에 존재해야 합니다. RecoilRoot는 여러개 공존할 수 있으며 recoil state는 RecoilRoot에 따라 관리됩니다.</p>
<ul class="simple">
<li><p>props</p>
<ul>
<li><p>initializeState? :({set, setUnvalidatedAtomValues}) =&gt; void</p>
<ul>
<li><p>recoil store가 처음 렌더링 될 때 호출되는 함수. 원자의 초기값 설정할 수 있습니다.</p>
<ul>
<li><p>set: <T> (RecoilValue<T>, T) =&gt; void</p>
<ul>
<li><p>단일 atom의 초기값 제공</p></li>
</ul>
</li>
<li><p>setUnvaliddatedAtomValues: (Map&lt;string, mixed&gt;) =&gt; vvoid</p>
<ul>
<li><p>전달된 Map&lt;string, mixed&gt;에서 atom state를 만들 때 설정한 key에 대해 초기값 설정한다.  useSetUnvalidedAtomValues와 마찬가지로, 다음에 읽을 때 각 원자에 대한 검증자가 호출되며, 구성된 검증자가 없는 원자를 설정하면 예외가 된다.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section" id="example">
<h3>example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span>import {RecoilRoot} from &#39;recoil&#39;;

function AppRoot() {
  return (
    &lt;RecoilRoot&gt;
      &lt;ComponentThatUsesRecoil /&gt;
    &lt;/RecoilRoot&gt;
  );
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="atom-options">
<h2>atom(options)<a class="headerlink" href="#atom-options" title="Permalink to this headline">¶</a></h2>
<p>쓰기 가능한 recoil state 반환</p>
<hr class="docutils" />
<ul class="simple">
<li><p>options</p>
<ul>
<li><p>key: atom 내부적으로 식별하는데 사용하는 고유한 문자열입니다. 키는 다른 atom 또는 selector를 호출할 때 전달한 key와 곂치면 안됩니다.</p></li>
<li><p>default: atom 상태의 초기값</p></li>
</ul>
</li>
</ul>
<p>atom과 상호작용을 위해 다음과 같은 훅스가 있습니다.</p>
<ul class="simple">
<li><p>useRecoilState(): 이 훅스는 atom에 대한 읽기와 쓰기를 할 때 사용합니다.</p></li>
<li><p>useRecoilValue(): 이 훅스는 atom에 대해 읽기만 할 때 사용합니다.</p></li>
<li><p>useSetRecoilState(): 이 훅스는 atom에 대해 쓰기만 할 때 사용합니다.</p></li>
</ul>
<p>atom를 구독하지 않고 값을 읽어야 하는 경우 recoilCallback()을 사용합니다. recoilCallback()을 사용하면 atom이 업데이트 되더라도 랜더링을 하지 않습니다.</p>
<div class="section" id="id1">
<h3>example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span>import {atom, useRecoilState} from &#39;recoil&#39;;

const counter = atom({
  key: &#39;myCounter&#39;,
  default: 0,
});

function Counter() {
  const [count, setCount] = useRecoilState(counter);
  const incrementByOne = () =&gt; setCount(count + 1);

  return (
    &lt;div&gt;
      Count: {count}
      &lt;br /&gt;
      &lt;button onClick={incrementByOne}&gt;Increment&lt;/button&gt;
    &lt;/div&gt;
  );
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="isrecoilvalue-value">
<h2>isRecoilValue(value)<a class="headerlink" href="#isrecoilvalue-value" title="Permalink to this headline">¶</a></h2>
<p>값이 atom 또는 selector일 경우 true를 반환하고, 아니면 false를 반환합니다.</p>
<hr class="docutils" />
<div class="section" id="id2">
<h3>example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">atom</span><span class="p">,</span> <span class="nx">isRecoilValue</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;recoil&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">counter</span> <span class="o">=</span> <span class="nx">atom</span><span class="p">({</span>
  <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;myCounter&#39;</span><span class="p">,</span>
  <span class="k">default</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">strCounter</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">({</span>
  <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;myCounterStr&#39;</span><span class="p">,</span>
  <span class="nx">get</span><span class="o">:</span> <span class="p">({</span><span class="nx">get</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="nb">String</span><span class="p">(</span><span class="nx">get</span><span class="p">(</span><span class="nx">counter</span><span class="p">)),</span>
<span class="p">});</span>

<span class="nx">isRecoilValue</span><span class="p">(</span><span class="nx">counter</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nx">isRecoilValue</span><span class="p">(</span><span class="nx">strCounter</span><span class="p">);</span> <span class="c1">// true</span>

<span class="nx">isRecoilValue</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nx">isRecoilValue</span><span class="p">({});</span> <span class="c1">// false</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="selector-option">
<h2>selector(option)<a class="headerlink" href="#selector-option" title="Permalink to this headline">¶</a></h2>
<p>함수에 전달된 옵션에 따라 쓰기 가능 또는 읽기 전용 recoil state를 반환합니다.</p>
<p>Selector는 상태를 가져와 보여줍니다. 가져온 상태는 최신 상태입니다. 가져온 상태는 어떤 주어진 상태를 수정하는 순수한 함수에 상태를 전달한 결과로 생각할 수 있습니다.</p>
<hr class="docutils" />
<ul class="simple">
<li><p>options</p>
<ul>
<li><p>key: atom 내부적으로 식별하는데 사용하는 고유한 문자열입니다. 키는 다른 atom 또는 selector를 호출할 때 전달한 key와 곂치면 안됩니다.</p></li>
<li><p>get: 다음 속성을 포함하는 첫 번째 배개 변수로 객체에 전달되는 함수 입니다.</p>
<ul>
<li><p>get: 다른 atom/selector에서 값을 검색하는데 사용하는 함수</p></li>
</ul>
</li>
<li><p>set?: 이 속성이 설정되면 선택기는 쓰기 가능한 상태를 반환합니다. 다음 속성을 포함하는 첫 번째 매개변수로 객체에 전달되는 함수입니다.</p>
<ul>
<li><p>get: 다른 atom/selector에서 값을 검색하는데 사용하는 함수. 이 함수는 값을 검색하는데만 사용하고 구독하지 않습니다.</p></li>
<li><p>set: recoil state 값을 설정하는 데 사용, 첫 번째 매개 변수는 recoil state 값이고 두 번째 배개 변수는 새로운 값입니다.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section" id="id3">
<h3>example<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span>import {atom, selector, useRecoilState} from &#39;recoil&#39;;

const tempFahrenheit = atom({
  key: &#39;tempFahrenheit&#39;,
  default: 32,
});

const tempCelcius = selector({
  key: &#39;tempCelcius&#39;,
  get: ({get}) =&gt; ((get(tempFahrenheit) - 32) * 5) / 9,
  set: ({set}, newValue) =&gt; set(tempFahrenheit, (newValue * 9) / 5 + 32),
});

function TempCelcius() {
  const [tempF, setTempF] = useRecoilState(tempFahrenheit);
  const [tempC, setTempC] = useRecoilState(tempCelcius);

  const addTenCelcius = () =&gt; setTempC(tempC + 10);
  const addTenFahrenheit = () =&gt; setTempF(tempF + 10);

  return (
    &lt;div&gt;
      Temp (Celcius): {tempC}
      &lt;br /&gt;
      Temp (Fahrenheit): {tempF}
      &lt;br /&gt;
      &lt;button onClick={addTenCelcius}&gt;Add 10 Celcius&lt;/button&gt;
      &lt;br /&gt;
      &lt;button onClick={addTenFahrenheit}&gt;Add 10 Fahrenheit&lt;/button&gt;
    &lt;/div&gt;
  );
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="userecoilcallback">
<h2>useRecoilCallback()<a class="headerlink" href="#userecoilcallback" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>example<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span>import {atom, useRecoilCallback} from &#39;recoil&#39;;

const itemsInCart = atom({
  key: &#39;itemsInCart&#39;,
  default: 0,
});

function CartInfoDebug() {
  const logCartItems = useRecoilCallback(async ({getPromise}) =&gt; {
    const numItemsInCart = await getPromise(itemsInCart);

    console.log(&#39;Items in cart: &#39;, numItemsInCart);
  });

  return (
    &lt;div&gt;
      &lt;button onClick={logCartItems}&gt;Log Cart Items&lt;/button&gt;
    &lt;/div&gt;
  );
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="userecoilvalue-state">
<h2>useRecoilValue(state)<a class="headerlink" href="#userecoilvalue-state" title="Permalink to this headline">¶</a></h2>
<p>주어진 recoil 상태 반환</p>
<p>이 훅스는 컴포넌트를 주어진 상태로 내재적으로 구독합니다.</p>
<hr class="docutils" />
<ul class="simple">
<li><p>state: <strong><code class="docutils literal notranslate"><span class="pre">atom</span></code></strong> 또는 <strong><code class="docutils literal notranslate"><span class="pre">selector</span></code></strong></p></li>
</ul>
<p>이 훅스는 읽기 전용 상태와 쓰기 가능한 상태 모두에서 작동하므로 구성 요소에 쓰지 않고 상태를 읽으려고 할 때 권장되는 훅스입니다. atom는 쓰기 가능 상태이지만 선택기는 읽기 전용이거나 쓰기 가능할 수 있습니다. 자세한 내용은 selector()를 참조하십시오.</p>
<div class="section" id="id5">
<h3>example<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span>import {atom, selector, useRecoilValue} from &#39;recoil&#39;;

const namesState = atom({
  key: &#39;namesState&#39;,
  default: [&#39;&#39;, &#39;Ella&#39;, &#39;Chris&#39;, &#39;&#39;, &#39;Paul&#39;],
});

const filteredNamesState = selector({
  key: &#39;filteredNamesState&#39;,
  get: ({get}) =&gt; get(namesState).filter((str) =&gt; str !== &#39;&#39;),
});

function NameDisplay() {
  const names = useRecoilValue(namesState);
  const filteredNames = useRecoilValue(filteredNamesState);

  return (
    &lt;&gt;
      Original names: {names.join(&#39;,&#39;)}
      &lt;br /&gt;
      Filtered names: {filteredNames.join(&#39;,&#39;)}
    &lt;/&gt;
  );
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="userecoilvalueloadable-state">
<h2>useRecoilValueLoadable(state)<a class="headerlink" href="#userecoilvalueloadable-state" title="Permalink to this headline">¶</a></h2>
<p><strong><code class="docutils literal notranslate"><span class="pre">Loadable</span></code></strong> 반환</p>
<p>이 훅스는 비동기 selectors를 읽을 때 사용합니다. 이 후크는 컴포넌트를 주어진 상태로 내재적으로 구독합니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">useRecoilValue()</span></code> 와 달리 비동기 selector를 읽을 때 <code class="docutils literal notranslate"><span class="pre">pending</span></code> 상태인 promise 객체를 던지지 않습니다. 대신 훅스는 다음 인터페이스를 가진 Loadable을 반환합니다.</p>
<hr class="docutils" />
<ul class="simple">
<li><p>state: 선택기의 상태를 나타냅니다. 사용 가능한 값은 <code class="docutils literal notranslate"><span class="pre">hasValue</span></code>, <code class="docutils literal notranslate"><span class="pre">hasError</span></code>, <code class="docutils literal notranslate"><span class="pre">loading</span></code> 입니다.</p></li>
<li><p>getValue(): 오류가 있는 경우 이 함수는 오류가 발생합니다. 선택기가 로드중인 경우 Promise를 던집니다. 이 두가지 상황이 아니라면 선택기가 확인한 값을 반환합니다.</p></li>
<li><p>toPromise(): 선택기는 Promise 객체를 반환합니다. 선택기가 동기식이거나 이미 해결된 경우, resolve된 Promise 객체를 반환합니다.</p></li>
</ul>
<hr class="docutils" />
<ul class="simple">
<li><p>state: 비동기식 작동이 가능한 <strong><code class="docutils literal notranslate"><span class="pre">selector</span></code></strong> 반환. 반환된 laudable 상태는 선택기에 전달된 상태에 의존적입니다.</p></li>
</ul>
<div class="section" id="id6">
<h3>example<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="useresetrecoilstate-state">
<h2>useResetRecoilState(state)<a class="headerlink" href="#useresetrecoilstate-state" title="Permalink to this headline">¶</a></h2>
<p>주어진 상태의 값을 기본값으로 재설정하는 함수를 반환합니다.</p>
<hr class="docutils" />
<ul class="simple">
<li><p>state: 쓰기 가능한 recoil state</p></li>
</ul>
<div class="section" id="id7">
<h3>example<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="userecoilstate-state">
<h2>useRecoilState(state)<a class="headerlink" href="#userecoilstate-state" title="Permalink to this headline">¶</a></h2>
<p>첫 번째 요소가 state의 값이고, 두 번째 요소가 state를 변경하는 setter 함수인 튜플을 반환합니다.</p>
<p>이 훅스는 컴포넌트를 주어진 상태로 내재적으롤 구독합니다.</p>
<hr class="docutils" />
<ul class="simple">
<li><p>state: <strong><code class="docutils literal notranslate"><span class="pre">Atom</span></code></strong> 또는 쓰기 가능한 <strong><code class="docutils literal notranslate"><span class="pre">selector</span></code></strong> 는 정의에 <code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code> 둘 다 있으며 읽기 전용 selector는 get만 있습니다.</p></li>
</ul>
<p>이것은 컴포넌트가 상태를 읽고 쓰려고 할 때 사용하는 권장 훅스입니다.</p>
<div class="section" id="id8">
<h3>example<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-jsx notranslate"><div class="highlight"><pre><span></span>import {atom, selector, useRecoilState} from &#39;recoil&#39;;

const tempFahrenheit = atom({
  key: &#39;tempFahrenheit&#39;,
  default: 32,
});

const tempCelcius = selector({
  key: &#39;tempCelcius&#39;,
  get: ({get}) =&gt; ((get(tempFahrenheit) - 32) * 5) / 9,
  set: ({set}, newValue) =&gt; set(tempFahrenheit, (newValue * 9) / 5 + 32),
});

function TempCelcius() {
  const [tempF, setTempF] = useRecoilState(tempFahrenheit);
  const [tempC, setTempC] = useRecoilState(tempCelcius);

  const addTenCelcius = () =&gt; setTempC(tempC + 10);
  const addTenFahrenheit = () =&gt; setTempF(tempF + 10);

  return (
    &lt;div&gt;
      Temp (Celcius): {tempC}
      &lt;br /&gt;
      Temp (Fahrenheit): {tempF}
      &lt;br /&gt;
      &lt;button onClick={addTenCelcius}&gt;Add 10 Celcius&lt;/button&gt;
      &lt;br /&gt;
      &lt;button onClick={addTenFahrenheit}&gt;Add 10 Fahrenheit&lt;/button&gt;
    &lt;/div&gt;
  );
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="userecoilstateloadable">
<h2>useRecoilStateLoadable()<a class="headerlink" href="#userecoilstateloadable" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="usesetresoilstate-state">
<h2>useSetResoilState(state)<a class="headerlink" href="#usesetresoilstate-state" title="Permalink to this headline">¶</a></h2>
<p>쓰기 가능한 recoil state을 업데이트하기 위한 setter 함수를 반환합니다.</p>
<hr class="docutils" />
<ul class="simple">
<li><p>state: 쓰기 가능한 recoil state</p></li>
</ul>
<div class="section" id="id9">
<h3>example<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../Tutorial/selector.html" class="btn btn-neutral float-left" title="Selectors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, pjt3591oo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>